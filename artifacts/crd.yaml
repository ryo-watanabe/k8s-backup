apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: snapshots.clustersnapshot.rywt.io
spec:
  group: clustersnapshot.rywt.io
  version: v1alpha1
  scope: Namespaced
  names:
    kind: Backup
    plural: backups
  additionalPrinterColumns:
  - name: CLUSTERNAME
    type: string
    description: Cluster ID.
    JSONPath: .spec.clusterName
  - name: TIMESTAMP
    type: string
    description: Timestamp of backup.
    JSONPath: .status.backupTimestamp
  - name: RV
    type: string
    description: Resource Version of backup.
    JSONPath: .status.backupResourceVersion
  - name: AVAILABLE_UNTIL
    type: string
    description: Retention period of backup.
    JSONPath: .status.availableUntil
  - name: CONTENTS
    type: integer
    description: Number of contents.
    JSONPath: .status.numberOfContents
  - name: SIZE
    type: integer
    description: Backup file size.
    JSONPath: .status.storedFileSize
  - name: OBJECTSTORE
    type: string
    description: Objectstore config name.
    JSONPath: .spec.objectstoreConfig
  - name: STATUS
    type: string
    description: Status of backup.
    JSONPath: .status.phase
  - name: AGE
    type: date
    description: Timestamp of backup.
    JSONPath: .metadata.creationTimestamp
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: restores.clustersnapshot.rywt.io
spec:
  group: clustersnapshot.rywt.io
  version: v1alpha1
  scope: Namespaced
  names:
    kind: Restore
    plural: restores
  additionalPrinterColumns:
  - name: CLUSTERNAME
    type: string
    description: Cluster ID.
    JSONPath: .spec.clusterName
  - name: BACKUPNAME
    type: string
    description: Backup data ID used for restore.
    JSONPath: .spec.backupName
  - name: TIMESTAMP
    type: string
    description: Timestamp of restore.
    JSONPath: .status.restoreTimestamp
  - name: RV
    type: string
    description: Resource Version of restore.
    JSONPath: .status.restoreResourceVersion
  - name: EXCLUDED
    type: integer
    description: Number of excluded by conditions.
    JSONPath: .status.numExcluded
  - name: CREATED
    type: integer
    description: Number of created.
    JSONPath: .status.numCreated
  - name: UPDATED
    type: integer
    description: Number of updated.
    JSONPath: .status.numUpdated
  - name: EXIST
    type: integer
    description: Number of already existed.
    JSONPath: .status.numAlreadyExisted
  - name: FAILED
    type: integer
    description: Number of failed.
    JSONPath: .status.numFailed
  - name: STATUS
    type: string
    description: Status of backup.
    JSONPath: .status.phase
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: restorepreferences.clustersnapshot.rywt.io
spec:
  group: clustersnapshot.rywt.io
  version: v1alpha1
  scope: Namespaced
  names:
    kind: RestorePreference
    plural: restorepreferences
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  name: objectstoreconfigs.clustersnapshot.rywt.io
spec:
  group: clustersnapshot.rywt.io
  version: v1alpha1
  scope: Namespaced
  names:
    kind: ObjectstoreConfig
    plural: objectstoreconfigs
  additionalPrinterColumns:
  - name: REGION
    type: string
    description: Region.
    JSONPath: .spec.region
  - name: ENDPOINT
    type: string
    description: Endpoint.
    JSONPath: .spec.endpoint
  - name: CREDENTIAL
    type: string
    description: Cloud credential secret name.
    JSONPath: .spec.cloudCredentialSecret
  - name: BUCKET
    type: string
    description: Bucket name.
    JSONPath: .spec.bucket
  - name: AGE
    type: date
    description: Timestamp of backup.
    JSONPath: .metadata.creationTimestamp
